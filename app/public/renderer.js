"use strict";!function(e,r){function t(e,r,t){var n=b[r];if(n){var o;"notify"==t?o=n.notify:(delete b[r],o=t?n.resolve:n.reject);for(var i=arguments.length,a=Array(i>3?i-3:0),s=3;s<i;s++)a[s-3]=arguments[s];o.apply(this,a)}}function n(e){y.indexOf(e)<0&&(h.on(e,t),y.push(e));var r=g.defer();b[++m]=r;for(var n=arguments.length,o=Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return d.dev()&&v.debug("postMessage: "+e+", "+o.join(", ")),h.send.apply(this,[e,m].concat(o)),r.promise}function o(e,r){var t=this;return h.on(e,function(e,n){r.apply(t,n)}),this}function i(e,r){return e+"_"+r}function a(e,r,t,n){(n=n||{}).priority=n.priority||0,n.canReset=!1!==n.canReset;var o=i(e,r),a=k[o];return a||(a=[],k[o]=a),a.push({callback:t,options:n}),this}function s(e,r,t){var n=i(e,r),o=k[n];if(!o)return this;for(var a=0;a<o.length;a++)if(o[a].callback==t){o.splice(a,1);break}return this}function c(e,r){var t=i(e,r),n=k[t];if(!n)return this;n=n.concat().sort(function(e,r){return r.options.priority-e.options.priority});for(var o=arguments.length,a=Array(o>2?o-2:0),s=2;s<o;s++)a[s-2]=arguments[s];for(var c=0;c<n.length;c++)n[c].callback.apply(this,a);return this}function l(e,r,t){for(var n=arguments.length,o=Array(n>3?n-3:0),a=3;a<n;a++)o[a-3]=arguments[a];var s=this,l=i(r,t),u=w[l];return u&&clearTimeout(u),u=setTimeout(function(){delete w[l],c.apply(s,[r,t].concat(o))},e),w[l]=u,this}function u(){for(var e in k){for(var r=k[e],t=r.length-1;t>=0;t--)r[t].options.canReset&&r.splice(t,1);0==r.length&&delete k[e]}for(var e in w){var n=w[e];n&&clearTimeout(n),delete w[e]}return w={},Object.keys(q).forEach(function(e){delete q[e]}),this}var p=require("path"),f=process.defaultApp||/[\\/]electron-prebuilt[\\/]/.test(process.execPath)||/[\\/]electron[\\/]/.test(process.execPath);module.paths.push(f?p.resolve("app","node_modules"):p.resolve(__dirname,"..","..","app.asar","node_modules"));var h=require("electron").ipcRenderer,v=require("electron-log"),d=require("electron-is"),g=require("q"),y=[],b={},m=0,k={},w={},q={};r.postMessage=n,r.listenMessage=o,r.on=a,r.off=s,r.trigger=c,r.delayTrigger=l,r.reset=u,r.view=q}(window,window.kenrobot||(window.kenrobot={}));