{"created_at":"2018-02-01T10:41:44.938Z","project_data":{"code":"/**\n * Copyright(C), 2018-2038, KenRobot.com\n * FileName: PS2手柄.ino\n * Author: 啃萝卜\n * Create: 2018/03/22\n * Modify: 2018/03/22\n */\n\n#include <PS2X_lib.h>\n \nint ps2x_0_DAT = 11;\nint ps2x_0_CMD = 10;\nint ps2x_0_SEL = 9;\nint ps2x_0_CLK = 8;\nPS2X ps2x_0;\nint error = 0;\nint type = 0;\n\nvoid setup() {\n    Serial.begin(9600);\n    error = ps2x_0.config_gamepad(ps2x_0_DAT, ps2x_0_CMD, ps2x_0_SEL, ps2x_0_CLK, true, true);\n    if (error == 0) {\n        Serial.println(\"手柄设置成功\");\n    } else {\n        Serial.println(\"手柄设置失败\");\n    }\n    Serial.println(\"手柄的类型为： \");\n    type = ps2x_0.readType();\n    switch (type) {\n        case 0:\n            Serial.println(\"未知\");\n            break;\n        case 1:\n            Serial.println(\"DualShock\");\n            break;\n        case 2:\n            Serial.println(\"GuitarHero\");\n            break;\n        case 3:\n            Serial.println(\"Wireless Sony DualShock\");\n            break;\n    }\n}\n\nvoid loop() {\n    if (error == 1) {\n        return;\n    }\n    if (type == 1) {\n        ps2x_0.read_gamepad();\n        if (ps2x_0.Button(PSB_START)) {\n            Serial.println(\"START PRESSED\");\n        }\n    }\n}","hardware":{"board":"ArduinoUNO","components":[{"endpoints":{"CLK":{"type":"digital","uid":"nxaTey"},"CMD":{"type":"digital","uid":"6xZLOp"},"DAT":{"type":"digital","uid":"N9qJ1x"},"SEL":{"type":"digital","uid":"JU6ZDa"}},"name":"ps2x","uid":"1tMf4p","x":49,"y":6.8},{"endpoints":{"s":{"type":"serial","uid":"K95isM"}},"name":"serial","uid":"mDk1Ea","x":9,"y":42}],"connections":[{"sourceUid":"K95isM","targetUid":"q9OAeR"},{"sourceUid":"nxaTey","targetUid":"8aVQDp"},{"sourceUid":"JU6ZDa","targetUid":"Z29m2f"},{"sourceUid":"6xZLOp","targetUid":"q6rOYR"},{"sourceUid":"N9qJ1x","targetUid":"p0Yjne"}]},"mode":"block","software":{"global":{"children":[{"children":[],"content":[{"id":"NAME","type":"var-input","value":"error"},{"id":"TYPE","type":"static-select","value":"int"},{"blockInputId":"VALUE","type":"block-input","value":{"children":[],"content":[{"id":"VALUE","type":"number-input","value":"0"}],"enable":true,"name":"number"}}],"enable":true,"name":"declareVariableAdvanced"},{"children":[],"content":[{"id":"NAME","type":"var-input","value":"type"},{"id":"TYPE","type":"static-select","value":"int"},{"blockInputId":"VALUE","type":"block-input","value":{"children":[],"content":[{"id":"VALUE","type":"number-input","value":"0"}],"enable":true,"name":"number"}}],"enable":true,"name":"declareVariableAdvanced"}],"content":[],"enable":true,"name":"group"},"loop":{"children":[{"children":[{"children":[],"content":[],"enable":true,"name":"return"}],"content":[{"blockInputId":"ARG1","type":"block-input","value":{"children":[],"content":[{"id":"VAR","type":"dynamic-select","value":"error"}],"enable":true,"name":"selectVariable"}},{"id":"OPERATOR","type":"static-select","value":"=="},{"blockInputId":"ARG2","type":"block-input","value":{"children":[],"content":[{"id":"VALUE","type":"number-input","value":"1"}],"enable":true,"name":"number"}}],"enable":true,"name":"if"},{"children":[{"children":[],"content":[{"id":"PS2","type":"dynamic-select","value":"ps2x_0"}],"enable":true,"name":"ps2xRead"},{"children":[{"children":[],"content":[{"id":"SERIAL","type":"dynamic-select","value":"Serial"},{"blockInputId":"DATA","type":"block-input","value":{"children":[],"content":[{"id":"TEXT","type":"string-input","value":"START PRESSED"}],"enable":true,"name":"string"}},{"id":"LN","type":"static-select","value":"println"}],"enable":true,"name":"serialSend"}],"content":[{"blockInputId":"CONDITION","type":"block-input","value":{"children":[],"content":[{"id":"PS2","type":"dynamic-select","value":"ps2x_0"},{"id":"BUTTON","type":"static-select","value":"PSB_START"}],"enable":true,"name":"ps2xButton"}}],"enable":true,"name":"ifAdvanced"}],"content":[{"blockInputId":"ARG1","type":"block-input","value":{"children":[],"content":[{"id":"VAR","type":"dynamic-select","value":"type"}],"enable":true,"name":"selectVariable"}},{"id":"OPERATOR","type":"static-select","value":"=="},{"blockInputId":"ARG2","type":"block-input","value":{"children":[],"content":[{"id":"VALUE","type":"number-input","value":"1"}],"enable":true,"name":"number"}}],"enable":true,"name":"if"}],"content":[],"enable":true,"name":"group"},"setup":{"children":[{"children":[],"content":[{"id":"NAME","type":"dynamic-select","value":"error"},{"blockInputId":"VALUE","type":"block-input","value":{"children":[],"content":[{"id":"PS2","type":"dynamic-select","value":"ps2x_0"},{"id":"PRESURE","type":"static-select","value":"true"},{"id":"RUMBLE","type":"static-select","value":"true"}],"enable":true,"name":"ps2xConfigAdvanced"}}],"enable":true,"name":"setVariable"},{"children":[{"children":[],"content":[{"id":"SERIAL","type":"dynamic-select","value":"Serial"},{"blockInputId":"DATA","type":"block-input","value":{"children":[],"content":[{"id":"TEXT","type":"string-input","value":"手柄设置成功"}],"enable":true,"name":"string"}},{"id":"LN","type":"static-select","value":"println"}],"enable":true,"name":"serialSend"}],"content":[{"blockInputId":"ARG1","type":"block-input","value":{"children":[],"content":[{"id":"VAR","type":"dynamic-select","value":"error"}],"enable":true,"name":"selectVariable"}},{"id":"OPERATOR","type":"static-select","value":"=="},{"blockInputId":"ARG2","type":"block-input","value":{"children":[],"content":[{"id":"VALUE","type":"number-input","value":"0"}],"enable":true,"name":"number"}}],"enable":true,"name":"if"},{"children":[{"children":[],"content":[{"id":"SERIAL","type":"dynamic-select","value":"Serial"},{"blockInputId":"DATA","type":"block-input","value":{"children":[],"content":[{"id":"TEXT","type":"string-input","value":"手柄设置失败"}],"enable":true,"name":"string"}},{"id":"LN","type":"static-select","value":"println"}],"enable":true,"name":"serialSend"}],"content":[],"enable":true,"name":"else"},{"children":[],"content":[{"id":"SERIAL","type":"dynamic-select","value":"Serial"},{"blockInputId":"DATA","type":"block-input","value":{"children":[],"content":[{"id":"TEXT","type":"string-input","value":"手柄的类型为： "}],"enable":true,"name":"string"}},{"id":"LN","type":"static-select","value":"println"}],"enable":true,"name":"serialSend"},{"children":[],"content":[{"id":"NAME","type":"dynamic-select","value":"type"},{"blockInputId":"VALUE","type":"block-input","value":{"children":[],"content":[{"id":"PS2","type":"dynamic-select","value":"ps2x_0"}],"enable":true,"name":"ps2xReadType"}}],"enable":true,"name":"setVariable"},{"children":[{"children":[{"children":[],"content":[{"id":"SERIAL","type":"dynamic-select","value":"Serial"},{"blockInputId":"DATA","type":"block-input","value":{"children":[],"content":[{"id":"TEXT","type":"string-input","value":"未知"}],"enable":true,"name":"string"}},{"id":"LN","type":"static-select","value":"println"}],"enable":true,"name":"serialSend"}],"content":[{"id":"VAR","type":"number-input","value":"0"}],"enable":true,"name":"case"},{"children":[{"children":[],"content":[{"id":"SERIAL","type":"dynamic-select","value":"Serial"},{"blockInputId":"DATA","type":"block-input","value":{"children":[],"content":[{"id":"TEXT","type":"string-input","value":"DualShock"}],"enable":true,"name":"string"}},{"id":"LN","type":"static-select","value":"println"}],"enable":true,"name":"serialSend"}],"content":[{"id":"VAR","type":"number-input","value":"1"}],"enable":true,"name":"case"},{"children":[{"children":[],"content":[{"id":"SERIAL","type":"dynamic-select","value":"Serial"},{"blockInputId":"DATA","type":"block-input","value":{"children":[],"content":[{"id":"TEXT","type":"string-input","value":"GuitarHero"}],"enable":true,"name":"string"}},{"id":"LN","type":"static-select","value":"println"}],"enable":true,"name":"serialSend"}],"content":[{"id":"VAR","type":"number-input","value":"2"}],"enable":true,"name":"case"},{"children":[{"children":[],"content":[{"id":"SERIAL","type":"dynamic-select","value":"Serial"},{"blockInputId":"DATA","type":"block-input","value":{"children":[],"content":[{"id":"TEXT","type":"string-input","value":"Wireless Sony DualShock"}],"enable":true,"name":"string"}},{"id":"LN","type":"static-select","value":"println"}],"enable":true,"name":"serialSend"}],"content":[{"id":"VAR","type":"number-input","value":"3"}],"enable":true,"name":"case"}],"content":[{"blockInputId":"VAR","type":"block-input","value":{"children":[],"content":[{"id":"VAR","type":"dynamic-select","value":"type"}],"enable":true,"name":"selectVariable"}}],"enable":true,"name":"switch"}],"content":[],"enable":true,"name":"group"}}},"project_name":"PS2","project_type":"local","updated_at":"2018-03-22T05:38:53.976Z"}
